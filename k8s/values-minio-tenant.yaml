secrets:
  name: myminio-env-configuration
  # MinIO root user and password
  accessKey: minio
  secretKey: miniO123
tenant:
  # Tenant name
  name: myminio
  image:
    repository: ${registry_quay}/minio/minio # default quay.io/minio/minio
  ## Specification for MinIO Pool(s) in this Tenant.
  pools:
    ## Servers specifies the number of MinIO Tenant Pods / Servers in this pool.
    ## For standalone mode, supply 1. For distributed mode, supply 4 or more.
    ## Note that the operator does not support upgrading from standalone to distributed mode.
    - servers: 1
      ## custom name for the pool
      name: pool-0
      ## volumesPerServer specifies the number of volumes attached per MinIO Tenant Pod / Server.
      volumesPerServer: 1
      ## size specifies the capacity per volume
      size: 10Gi
      ## storageClass specifies the storage class name to be used for this pool
      storageClassName: openebs-hostpath #openebs-jiva-csi-default
      resources:
        requests:
          cpu: "1"
          memory: 2Gi
  certificate:
    ## Use this field to provide one or more external CA certificates. This is used by MinIO
    ## to verify TLS connections with other applications:
    ## https://github.com/minio/minio/tree/master/docs/tls/kubernetes#2-create-kubernetes-secret
    externalCaCertSecret: [ ]
    ## Use this field to provide a list of Secrets with external certificates. This can be used to configure
    ## TLS for MinIO Tenant pods. Create secrets as explained here:
    ## https://github.com/minio/minio/tree/master/docs/tls/kubernetes#2-create-kubernetes-secret
    externalCertSecret: [ ]
    ## Enable automatic Kubernetes based certificate generation and signing as explained in
    ## https://kubernetes.io/docs/tasks/tls/managing-tls-in-a-cluster
    requestAutoCert: false
    ## This field is used only when "requestAutoCert" is set to true. Use this field to set CommonName
    ## for the auto-generated certificate. Internal DNS name for the pod will be used if CommonName is
    ## not provided. DNS name format is *.minio.default.svc.cluster.local
    certConfig: { }
      # commonName: minio.mendix.mxplatform.net
      # dnsNames:
      # - minio.mendix.mxplatform.net
      # - minio-api.mendix.mxplatform.net
      # - minio-console.mendix.mxplatform.net
      # organizationName:
      # - system:nodes
  ## MinIO features to enable or disable in the MinIO Tenant
  ## https://github.com/minio/operator/blob/master/docs/tenant_crd.adoc#features
  features:
    bucketDNS: true
    domains: { }
    enableSFTP: false
  ## List of bucket definitions to create during tenant provisioning.
  ## Example:
  #   - name: my-minio-bucket
  #     objectLock: false        # optional
  #     region: us-east-1        # optional
  buckets:
    - name: pmp
  ## List of secret names to use for generating MinIO users during tenant provisioning
  ## exposeServices defines the exposure of the MinIO object storage and Console services.
  ## service is exposed as a loadbalancer in k8s service.
  exposeServices:
    console: false
    minio: false
ingress:
  api:
    enabled: true
    ingressClassName: "nginx"
    labels: { }
    annotations: { }
    tls:
    - hosts:
      - minio-api.${domain}
      secretName: pmp-tls
    host: minio-api.${domain}
    path: /
    pathType: Prefix
  console:
    enabled: true
    ingressClassName: "nginx"
    labels: { }
    annotations:
      nginx.org/websocket-services: myminio-console
    tls:
    - hosts:
      - minio-console.${domain}
      secretName: pmp-tls
    host: minio-console.${domain}
    path: /
    pathType: Prefix
